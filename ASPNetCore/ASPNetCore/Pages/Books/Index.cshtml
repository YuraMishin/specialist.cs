@page
@using System.Linq
@model ASPNetCore.Pages.Books.IndexModel
@{
  ViewData["Title"] = "Index";
}

<h1>Books</h1>
<p>
  <a asp-page="Upsert">
    Create / Update a Book
  </a>
</p>
@if (Model.Books.Any())
{
  <table class="table table-striped border">
    <tr class="table-secondary">
      <th>
        <label asp-for="Books.FirstOrDefault().Name"></label>
      </th>
      <th>
        Edit
      </th>
    </tr>
    @foreach (var book in Model.Books)
    {
      <tr>
        <td>
          @Html.DisplayFor(model => book.Name)
        </td>
        <td>
          <a asp-page="Upsert"
             asp-route-id="@book.Id"
             class="btn btn-success btn-sm text-white">
            Edit
          </a>
        </td>
      </tr>
    }
  </table>
}
else
{
  <p>No books available.</p>
}
